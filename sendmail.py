import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart


def sendmail(body_content):
    sender = '19536136982@163.com'
    receiver = '778424955@qq.com'
    password = 'CUecL39FchyGt7PE'
    subject = '实时财经热点新闻'

    msg = MIMEMultipart()
    msg['From'] = sender
    msg['To'] = receiver
    msg['Subject'] = subject
    msg.attach(MIMEText(body_content, 'plain'))

    try:
        server = smtplib.SMTP('smtp.163.com', 25)
        server.login(sender, password)
        server.sendmail(sender, receiver, msg.as_string())
        server.quit()
        print('邮件发送成功')
    except Exception as e:
        print(f'邮件发送失败: {e}')


if __name__ == '__main__':
    body_content = """
        好的，以下是可能对股票市场产生影响的近期新闻总结，分为几个主要方面：

        **宏观经济与政策**
        
        *   **美国通胀数据超预期：** 最新公布的美国通胀数据高于预期，强化了市场对美联储可能继续加息的预期，这对股市不利，可能导致股市下跌。
        *   **美联储货币政策：** 市场密切关注美联储的加息路径和缩表计划。任何关于未来加息步伐放缓或暂停的信号，都可能提振股市，反之则可能导致股市下跌。
        *   **全球经济增长放缓：** 国际货币基金组织等机构纷纷下调全球经济增长预期，原因是高通胀、俄乌冲突和供应链问题。经济增长放缓可能影响企业盈利，从而对股市造成压力。
        *   **中国经济刺激政策：** 中国政府可能出台更多刺激经济的政策，以应对经济下行压力。这些政策可能包括降息、减税和增加基础设施投资。如果政策力度超预期，可能提振中国股市和相关板块。
        
        **地缘政治**
        
        *   **俄乌冲突：** 俄乌冲突持续，对全球能源、粮食和供应链造成冲击，加剧了通胀压力，并增加了经济和政治的不确定性。冲突的任何升级或缓和都可能对股市产生影响。
        *   **中美关系：** 中美关系紧张，双方在贸易、科技和地缘政治等领域存在分歧。任何新的贸易限制或制裁都可能对相关公司的股价造成冲击。
        
        **行业动态**
        
        *   **科技行业：** 科技公司面临监管审查、竞争加剧和增长放缓等多重挑战。同时，人工智能、云计算和电动汽车等新兴技术也为科技公司带来了新的机遇。
        *   **能源行业：** 能源价格波动剧烈，受供需关系、地缘政治和气候变化等多种因素影响。能源公司盈利前景不明朗。
        *   **金融行业：** 利率上升可能提高银行的盈利能力，但也可能增加不良贷款的风险。金融科技公司面临监管压力和竞争。
        
        **其他重要信息**
        
        *   **公司财报季：** 上市公司陆续公布财报，投资者密切关注公司的盈利能力、增长前景和管理层展望。财报超预期可能提振股价，反之则可能导致股价下跌。
        *   **市场情绪：** 市场情绪对股市走势有重要影响。恐慌情绪可能导致抛售潮，乐观情绪则可能推动股市上涨。
        
        **重要提示：**
        
        *   以上信息仅供参考，不构成投资建议。
        *   股市有风险，投资需谨慎。
        *   在做出任何投资决策之前，请务必进行充分的研究，并咨询专业的财务顾问。
        
        **获取更详细信息的渠道：**
        
        *   各大财经新闻网站，如新浪财经、东方财富、华尔街见闻等。
        *   券商研究报告。
        *   上市公司公告。
        
        希望这些信息能对您有所帮助！
    """
    sendmail(body_content)
